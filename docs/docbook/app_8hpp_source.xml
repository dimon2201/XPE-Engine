<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_app_8hpp_source" xml:lang="en-US">
<title>app.hpp</title>
<indexterm><primary>engine/src/core/app.hpp</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered">1 <emphasis role="preprocessor">#pragma&#32;once</emphasis>
2 
3 <emphasis role="preprocessor">#include&#32;&lt;<link linkend="_camera__manager_8hpp">rendering/camera_manager.hpp</link>&gt;</emphasis>
4 <emphasis role="preprocessor">#include&#32;&lt;<link linkend="_shadow__manager_8hpp">rendering/shadow_manager.hpp</link>&gt;</emphasis>
5 <emphasis role="preprocessor">#include&#32;&lt;<link linkend="_skybox__manager_8hpp">rendering/skybox_manager.hpp</link>&gt;</emphasis>
6 
7 <emphasis role="preprocessor">#include&#32;&lt;<link linkend="_components_8hpp">ecs/components.hpp</link>&gt;</emphasis>
8 
9 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespacexpe">xpe</link>
10 {
11 &#32;&#32;&#32;&#32;<emphasis role="keyword">namespace&#32;</emphasis>render
12 &#32;&#32;&#32;&#32;{
13 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_classxpe_1_1render_1_1c_canvas">cCanvas</link>;
14 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_classxpe_1_1render_1_1c_render_system">cRenderSystem</link>;
15 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_structxpe_1_1render_1_1s_render_target">sRenderTarget</link>;
16 &#32;&#32;&#32;&#32;}
17 
18 &#32;&#32;&#32;&#32;<emphasis role="keyword">namespace&#32;</emphasis>anim
19 &#32;&#32;&#32;&#32;{
20 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_classxpe_1_1anim_1_1c_anim_system">cAnimSystem</link>;
21 &#32;&#32;&#32;&#32;}
22 
23 &#32;&#32;&#32;&#32;<emphasis role="keyword">namespace&#32;</emphasis>audio
24 &#32;&#32;&#32;&#32;{
25 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">class&#32;</emphasis>cAudioSystem;
26 &#32;&#32;&#32;&#32;}
27 
28 &#32;&#32;&#32;&#32;<emphasis role="keyword">namespace&#32;</emphasis>ecs
29 &#32;&#32;&#32;&#32;{
30 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_classxpe_1_1ecs_1_1c_scene">cScene</link>;
31 &#32;&#32;&#32;&#32;}
32 
33 &#32;&#32;&#32;&#32;<emphasis role="keyword">namespace&#32;</emphasis>physics
34 &#32;&#32;&#32;&#32;{
35 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_classxpe_1_1physics_1_1c_physics_system">cPhysicsSystem</link>;
36 &#32;&#32;&#32;&#32;}
37 
38 &#32;&#32;&#32;&#32;<emphasis role="keyword">namespace&#32;</emphasis>core&#32;{
39 
40 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_macro__build_8hpp_1a0697ee40f69dc5dab56d13131f4c4835">ENGINE_API</link>&#32;<link linkend="_classxpe_1_1core_1_1c_app">cApp</link>&#32;:&#32;<emphasis role="keyword">public</emphasis>&#32;<link linkend="_classxpe_1_1core_1_1c_object">cObject</link>&#32;{
41 
42 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>:
43 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classxpe_1_1core_1_1c_time">cTime</link>&#32;<link linkend="_classxpe_1_1core_1_1c_app_1afa7bf2c8fb46d0ab2f731b097ad4e3a0">CPUTime</link>;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;delta&#32;CPU&#32;time&#32;ms&#32;=&#32;end&#32;time&#32;-&#32;begin&#32;time</emphasis>
44 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classxpe_1_1core_1_1c_time">cTime</link>&#32;<link linkend="_classxpe_1_1core_1_1c_app_1aa093bbe02a4e655fa90d7c03459a8235">DeltaTime</link>;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;delta&#32;CurrentTime&#32;ms&#32;=&#32;end&#32;time&#32;-&#32;begin&#32;time</emphasis>
45 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classxpe_1_1core_1_1c_time">cTime</link>&#32;<link linkend="_classxpe_1_1core_1_1c_app_1a2e4a9bdbfb9563c041ab0447a108e26d">CurrentTime</link>;
46 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_structxpe_1_1core_1_1s_app_config">sAppConfig</link>&#32;<link linkend="_classxpe_1_1core_1_1c_app_1a0cc9fce34bf62c88a60d175f0a7f89bf">Config</link>;
47 
48 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classxpe_1_1core_1_1c_app_1a0becddd38dd8bed4bada049b0e26e0ee">cApp</link>()&#32;{}
49 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classxpe_1_1core_1_1c_app_1ae6a970175db088cf49d8fafa265bbefe">~cApp</link>()&#32;{}
50 
51 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;Run();
52 
53 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">protected</emphasis>:
54 
55 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_classxpe_1_1core_1_1c_app_1a5ef55c63d56dfccfc7738b50cf5be70a">Init</link>()&#32;{}
56 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_classxpe_1_1core_1_1c_app_1a3b069d8cbc5de0646cc885b9ccc62d85">Update</link>()&#32;{}
57 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_classxpe_1_1core_1_1c_app_1a2024288747447bdb0a69a021fed66b2f">Free</link>()&#32;{}
58 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;Render();
59 
60 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">virtual</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;InitShaders();
61 
62 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;LockFPSFromConfig();
63 
64 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;std::atomic_bool&#32;m_Opened&#32;=&#32;<emphasis role="keyword">true</emphasis>;
65 
66 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classxpe_1_1ecs_1_1c_scene">cScene</link>*&#32;m_Scene&#32;=&#32;<emphasis role="keyword">nullptr</emphasis>;
67 
68 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classxpe_1_1render_1_1c_canvas">cCanvas</link>*&#32;m_Canvas&#32;=&#32;<emphasis role="keyword">nullptr</emphasis>;
69 
70 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_structxpe_1_1render_1_1s_viewport">sViewport</link>&#32;<link linkend="_classxpe_1_1core_1_1c_app_1aa5fbd2978189be084ded83cb82bce612">m_Viewport</link>;
71 
72 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classxpe_1_1render_1_1c_render_system">cRenderSystem</link>*&#32;m_RenderSystem&#32;=&#32;<emphasis role="keyword">nullptr</emphasis>;
73 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classxpe_1_1anim_1_1c_anim_system">cAnimSystem</link>*&#32;m_AnimSystem&#32;=&#32;<emphasis role="keyword">nullptr</emphasis>;
74 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classxpe_1_1audio_1_1c_audio_system">cAudioSystem</link>*&#32;m_AudioSystem&#32;=&#32;<emphasis role="keyword">nullptr</emphasis>;
75 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classxpe_1_1physics_1_1c_physics_system">cPhysicsSystem</link>*&#32;m_PhysicsSystem&#32;=&#32;<emphasis role="keyword">nullptr</emphasis>;
76 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;};
77 &#32;&#32;&#32;&#32;}
78 }
79 
80 <link linkend="_classxpe_1_1core_1_1c_app">xpe::core::cApp</link>*&#32;<link linkend="_app_8hpp_1ade387e7515f0f30adc9898924329982e">CreateApplication</link>();
</programlisting></section>
